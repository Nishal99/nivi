<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800">Supplier Management</h1>
        <button 
            (click)="openAddModal()"
            class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
            Add Supplier
        </button>
    </div>

    <!-- Search Bar -->
    <div class="mb-6">
        <div class="flex gap-4">
            <input
                type="text"
                [(ngModel)]="searchQuery"
                (keyup.enter)="searchSuppliers()"
                placeholder="Search suppliers..."
                class="flex-grow p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
            <button
                (click)="searchSuppliers()"
                class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
                Search
            </button>
        </div>
    </div>

    <!-- Supplier Form Modal -->
    <app-supplier-form-modal
        [isOpen]="isModalOpen"
        [isEditing]="isEditing"
        [supplierData]="selectedSupplier"
        (close)="closeModal()"
        (save)="saveSupplier($event)">
    </app-supplier-form-modal>

    <!-- Suppliers List -->
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Company Name</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contact Person</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr *ngFor="let supplier of suppliers">
                    <td class="px-6 py-4 whitespace-nowrap">{{ supplier.company_name }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ supplier.contact_person }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ supplier.email }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ supplier.phone }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span [ngClass]="{
                            'px-2 py-1 text-xs rounded-full': true,
                            'bg-green-100 text-green-800': supplier.status === 'active',
                            'bg-red-100 text-red-800': supplier.status === 'inactive'
                        }">
                            {{ supplier.status }}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                        <button (click)="editSupplier(supplier)"
                            class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Edit</button>
                        <button (click)="deleteSupplier(supplier.id)"
                            class="inline-flex items-center px-3 flex justify-center items-center py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white w-20 bg-green-600">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>